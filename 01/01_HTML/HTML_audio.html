<!-- 20250614 前端学习笔记 (HTML相关知识)-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>音频</title>
    <link rel="stylesheet" href="../css/bg.css">
    <link rel="stylesheet" href="../css/color.css">
</head>
<body>
    <div id="container">
        <div class="section-top">
            <a href="../00_HTML_.html">返回</a>
            <h3>音频</h3>
            <span>&lt;audio&gt;&lt;/audio&gt;标签的使用方法</span>
        </div>
        <div class="section">
            <div class="title">(1) src：音频文件的URL</div>
            <div class="code-demo">
                <span class="note">【代码】</span>
                <br><code>&lt;audio src="https://www.runoob.com/try/demo_source/horse.mp3" controls&gt;&lt;/audio&gt;</code>
                <br><code>&lt;audio src="" controls&gt;&lt;/audio&gt;</code> <span>controls：控制面板</span>
                <br><code>&lt;audio src="" controls preload&gt;&lt;/audio&gt;</code> <span>preload：预加载，与autoplay冲突</span>
                <br><code>&lt;audio src="" controls autoplay&gt;&lt;/audio&gt;</code> <span>autoplay：自动播放</span>
                <br><code>&lt;audio src="" controls loop&gt;&lt;/audio&gt;</code> <span>loop：循环播放</span>
                <br><code>&lt;audio src="" controls muted&gt;&lt;/audio&gt;</code> <span>muted：禁音状态  </span>  
            </div>
            <div class="code-demo">
                <span class="note">【结果】</span>
                <br><audio src="https://www.runoob.com/try/demo_source/horse.mp3" controls></audio>
            </div>
        </div>
        <div class="section">
            <div class="title">(2) 检测浏览器支持情况</div>
            <div class="code-demo">
                <span class="h">1. 标签法检测</span>
                <br><code>&lt;audio src="" controls&gt;您的浏览器不支持HTML5音频&lt;/audio&gt;</code>
            </div>
            <div class="code-demo">
                <span class="h">2. Javascript法检测</span>
                <br><span class="note">【代码】</span>
                <pre><code class="block">&lt;div id="support"&gt;&lt;/div&gt;
&lt;script&gt;
function test () {
    var supportAudio = !!document.createElement("audio").canPlayType;
    if (supportAudio) {
        document.getElementById ("support").innerHTML = "您的浏览器支持HTML5音频"
    } else {
        document.getElementById ("support").innerHTML = "您的浏览器不支持HTML5音频"
    }
}
test ();
&lt;/script&gt;</code></pre>
            </div>
            <div class="code-demo">
                <span class="note">【解释】</span>
                <br><code>&lt;div id="support"&gt;&lt;/div&gt;</code> <span>创建div</span>
                <br><code>function test () {}</code> <span>创建函数</span>
                <br><code>!! </code> <span>将检测结果转换为布尔值</span>
                <br><code>document.getElementById ("support").innerHTML</code> <span>传递赋值</span>
                <br><code>test ();</code> <span>调用函数</span>
            </div>
            <div class="code-demo">
                <span class="note">【结果】</span>
                <div id="support"></div>
                <script>
                    function test () {
                        var supportAudio = !!document.createElement("audio").canPlayType;
                        if (supportAudio) {
                            document.getElementById ("support").innerHTML = "您的浏览器支持HTML5音频"
                        } else {
                            document.getElementById ("support").innerHTML = "您的浏览器不支持HTML5音频"
                        }
                    }
                    test ();
                </script>
            </div>
        </div>
        <div class="section">
            <div class="title">(3) 音频来源多样性</div>
            <div class="code-demo">
                <span class="note">代码</span>
                <br><pre><code class="block">&lt;audio controls&gt;
    &lt;source src="music/test.mp3"&gt;
    &lt;source src="music/test.ogg"&gt;
    您的浏览器不支持HTML5音频
&lt;/audio&gt;</code></pre>
            </div>
            <div class="code-demo">
                <span class="note">解释</span>
                <br><span>浏览器先判断音频是否支持mp3格式，支持则播放test.mp3文件</span>
                <br><span>否则判断是否支持ogg格式，支持则播放test.ogg文件</span>
                <br><span>如果都不支持，则返回&lt;audio&gt;标签一个错误事件</span>
            </div>
            <div class="code-demo">
                <span class="note">解释</span>
                <br><span>目前HTML5支持的常用音频格式有：</span>
                <br><span>MP3——后缀名为.mp3</span>
                <br><span>Ogg——后缀名为.ogg</span>
                <br><span>Wav——后缀名为.wav</span>
                <br><span>目前尚不存在得到所有浏览器支持的音频格式，</span>
                <br><span>因此在开发过程中，如果不明确用户所使用的浏览器类型，</span>
                <br><span>则需要起码准备两种音频格式备用</span>
            </div>
        </div>
        <div class="section">
            <div class="title">(4) 自定义音频控制</div>
            <div class="code-demo">
                <span class="note">代码</span>
                <br><pre><code class="block">&lt;audio id="music01"&gt;
    &lt;source src="music/test.ogg"&gt;
    &lt;source src="music/test.mp3"&gt;
    您的浏览器不支持HTML5音频
&lt;/audio&gt;
&lt;button id="btn" onclick="toggleMusic()"&gt;播放音频&lt;/button&gt;
&lt;script&gt;
    var music = document.getElementById("music01");
    var toggleBtn = document.getElementById("btn");
    function toggleMusic() {
        if (music.paused) {
            music.play();
            toggleBtn.innerHTML = "暂停音频";
        } else {
            music.pause();
            toggleBtn.innerHTML = "播放音频";
        }
    }
&lt;/script&gt;
        </code></pre>
            </div>
            <div class="code-demo">
                <span class="note">解释</span>
                <br><code>&lt;audio&gt;</code><span>创建audio对象，去掉controls禁用浏览器自带音频控件</span>
                <br><code>&lt;button&gt;</code><span>创建button对象</span>
                <br><code>onclick="toggleMusic()"</code><span>点击调用函数</span>
                <br><code>function toggleMusc () {}</code><span>创建函数</span>
            </div>
            <div class="code-demo">
                <span class="note">结果</span>
                <br><audio id="music01">
                    <source src="../music/test.mp3">
                    <source src="../music/test.ogg">
                    <source src="https://www.runoob.com/try/demo_source/horse.mp3">
                </audio>
                <button id="btn" onclick="toggleMusic()">播放音频</button>
                <script>
                    var music = document.getElementById("music01");
                    var toggleBtn = document.getElementById("btn");
                    function toggleMusic() {
                        if (music.paused) {
                            music.play();
                            toggleBtn.innerHTML = "暂停音频";
                        } else {
                            music.pause();
                            toggleBtn.innerHTML = "播放音频";
                        }
                    }
                </script>
            </div>
        </div>
    </div>
</body>
</html>